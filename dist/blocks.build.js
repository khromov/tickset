!function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=2)}([function(e,t){},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(3),n(4);!function(){setInterval(function(){var e=window,t=e.cgbGlobal,n=t.nonce,r=t.url;t.events;jQuery.ajax({method:"GET",url:r+"events",beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",n)},success:function(e){e?(window.cgbGlobal.events=e,console.log("Updated events",window.cgbGlobal.events)):console.log("Can't fetch new events")},error:function(e,t,n){console.log("Couldn't resolve:",t,n)}})},15e3)}()},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var o=n(0),l=(n.n(o),n(1)),__=(n.n(l),wp.i18n.__),c=wp.blocks.registerBlockType,i=wp.components,s=i.ServerSideRender,a=i.SelectControl,u=i.TextControl,v=wp.editor.InspectorControls;c("tickset/event",{title:window.cgbGlobal.translations.blockTitle,icon:"tickets",category:"common",keywords:[__("tickset","tickset"),__("event","tickset"),__("create","tickset")],attributes:{event_id:{type:"string",default:""},event_url:{type:"string",default:""}},edit:function(e){var t=Object.values(window.cgbGlobal.events),n=t.map(function(e){return{label:e.name,value:e.id+"/"+e.slug}}).sort(function(e,t){return e.label.localeCompare(t.label)});return wp.element.createElement("div",null,wp.element.createElement("div",{className:"tickset-event-container"},wp.element.createElement(s,{block:"tickset/event",attributes:e.attributes})),wp.element.createElement(v,null,wp.element.createElement("hr",{style:{marginTop:20}}),wp.element.createElement(a,{label:"Event",value:e.attributes.event_id,onChange:function(t){e.setAttributes({event_id:t}),"custom"!==t&&e.setAttributes({event_url:""})},options:[{label:"Please select an event",value:"none"}].concat(r(n),[{label:"\ud83c\udf10 Custom event URL",value:"custom"}])}),"custom"===e.attributes.event_id&&wp.element.createElement(u,{label:"Custom event URL",value:e.attributes.event_url,onChange:function(t){return e.setAttributes({event_url:t})}})))},save:function(e){return null}})},function(e,t,n){"use strict";var r=n(0),o=(n.n(r),n(1)),__=(n.n(o),wp.i18n.__),l=wp.blocks.registerBlockType,c=wp.components,i=c.ServerSideRender;c.SelectControl,c.TextControl,wp.editor.InspectorControls;l("tickset/event-list",{title:window.cgbGlobal.translations.blockListTitle,icon:"list-view",category:"common",keywords:[__("tickset","tickset"),__("event","tickset"),__("create","tickset"),__("list","tickset")],attributes:{},edit:function(e){return wp.element.createElement("div",null,wp.element.createElement("div",{className:"tickset-event-container"},wp.element.createElement(i,{block:"tickset/event-list",attributes:e.attributes})))},save:function(e){return null}})}]);